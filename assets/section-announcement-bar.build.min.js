import{T as b}from"./ticker-5f728d7f.js";const B=()=>{let u;const f=window.themeCore.utils.cssClasses,o={section:".js-announcement-bar",announcementBarCloser:".js-bar-closer",timer:".js-timer",slider:".js-announcement-bar-slider",slideContent:".js-announcement-bar-slide-content",tickerContainer:".js-announcement-bar-ticker-container"},d=window.themeCore.utils.Swiper;let i=null,a=null,m=null,t=null,w=null;function C(){return JSON.parse(sessionStorage.getItem("showAnnouncementBar"))===null}function S(e){e.target.closest(o.announcementBarCloser)&&(sessionStorage.setItem("showAnnouncementBar",!1),i.classList.add(f.hidden),window.themeCore.EventBus.emit("announcement-bar:changed",{}),window.removeEventListener("resize",c))}async function y(e){if(!e)return;const r=await window.themeCore.utils.getExternalUtil("swiperAutoplay");d.use([r]);const s=e.getAttribute("data-autoplay-speed"),l=e.getAttribute("data-autoplay")==="true";t=new d(e,{init:!1,direction:"vertical",slidesPerView:1,arrows:!1,loop:!0,navigation:{nextEl:".js-announcement-swiper-button-next",prevEl:".js-announcement-swiper-button-prev"},on:{init:function(){let n=document.querySelector(".js-announcement-swiper-button-prev"),h=document.querySelector(".js-announcement-swiper-button-next");n&&n.classList.remove("is-hidden"),h&&h.classList.remove("is-hidden")}},autoplay:l?{delay:s,disableOnInteraction:!1,pauseOnMouseEnter:!0}:!1}),t.on("init",function(){c(),window.addEventListener("resize",c)}),t.init()}function c(){if(!t||!t.initialized)return;let e=t.el,r=t.slides;if(!t||!t||!r.length)return;let s=0;e.style.height=0,r.forEach(l=>{let n=l.querySelector(o.slideContent);n&&(n.style.height="auto",n&&n.scrollHeight>s&&(s=n.scrollHeight))}),e.style.height=`${s}px`,r.forEach(function(l){let n=l.querySelector(o.slideContent);n.style.height=""})}async function g(){u=window.themeCore.utils.Timer,i=document.querySelector(o.section),a=i.querySelectorAll(o.timer),m=i.querySelector(o.slider),w=i.querySelector(o.tickerContainer),C()&&(i.addEventListener("click",S),window.themeCore.EventBus.emit("announcement-bar:changed",{}),y(m),b(w).init(),setTimeout(()=>{a=i.querySelectorAll(o.timer),a.forEach(function(e){u(e).init()})},0),setTimeout(()=>{window.themeCore.EventBus.emit("announcement-bar:loaded",{})},0))}return Object.freeze({init:g})},p=()=>{window.themeCore.AnnouncementBar=window.themeCore.AnnouncementBar||B(),window.themeCore.utils.register(window.themeCore.AnnouncementBar,"announcement-bar")};window.themeCore&&window.themeCore.loaded?p():document.addEventListener("theme:all:loaded",p,{once:!0});
