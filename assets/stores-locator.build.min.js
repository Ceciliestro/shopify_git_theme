const i={section:".js-stores-locator",tab:".js-stores-locator-item",tabDesktop:".js-stores-locator-item.js-stores-locator-item-desktop",tabMobile:".js-stores-locator-item.js-stores-locator-item-mobile",tabText:".js-stores-locator-item-text",body:".js-stores-locator-map-wrapper",accordionBody:".js-stores-locator-accordion-body"},g=()=>{const y=window.themeCore.utils.cssClasses,d=window.matchMedia("(max-width: 991.98px)"),r={tabDesktop:"js-stores-locator-item-desktop",tabMobile:"js-stores-locator-item-mobile",...y};let c=!1;function f(t){[...document.querySelectorAll(i.section)].filter(e=>!t||e.closest(`#shopify-section-${t}`)).forEach(e=>{const n=e.querySelector(i.tabDesktop).querySelector(i.accordionBody),l=e.querySelector(i.tabMobile);n.style.height=n.scrollHeight+"px",l.style.height=l.scrollHeight+"px",e.addEventListener("click",p),d.addEventListener("change",()=>{e.querySelectorAll(i.tab).forEach(b=>{h(b)})}),[...e.querySelectorAll(i.tab)].forEach(s=>{h(s)})})}function p(t){if(c)return;const o=t.target.closest(i.section),e=t.target.closest(i.tab);if(!o||!e||e.classList.contains(r.active))return;const a=[...o.querySelectorAll(i.tab)],n=[...o.querySelectorAll(i.body)],l=e.dataset.index;n.forEach(s=>{s.classList.toggle(r.hidden,s.dataset.index!==l)}),a.forEach(s=>{(d.matches?s.classList.contains(r.tabMobile):s.classList.contains(r.tabDesktop))&&s.classList.toggle(r.active,s.dataset.index===l),h(s)})}function h(t){if(!t)return;const o=t.querySelector(i.accordionBody),e=500;if(d.matches&&t.classList.contains(r.tabMobile)){const a=t.scrollHeight;t.classList.contains(r.active)?(c=!0,t.style.height=a+"px",t.setAttribute("aria-expanded",!0),setTimeout(()=>{t.removeAttribute("style"),c=!1},e)):(t.style.height=a+"px",t.setAttribute("aria-expanded",!1),requestAnimationFrame(()=>{t.style.height="96px"}))}else if(o){const a=o.scrollHeight;t.classList.contains(r.active)?(c=!0,o.style.height=a+"px",t.setAttribute("aria-expanded",!0),setTimeout(()=>{o.removeAttribute("style"),c=!1},e)):(o.style.height=a+"px",t.setAttribute("aria-expanded",!1),requestAnimationFrame(()=>{o.style.height=0}))}}return Object.freeze({init:f})},u=()=>{window.themeCore.StoresLocator=window.themeCore.StoresLocator||g(),window.themeCore.utils.register(window.themeCore.StoresLocator,"stores-locator")};window.themeCore&&window.themeCore.loaded?u():document.addEventListener("theme:all:loaded",u,{once:!0});
