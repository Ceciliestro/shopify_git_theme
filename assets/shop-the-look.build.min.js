const l={section:".js-shop-the-look",lookSlider:".js-shop-the-look-slider",lookSlide:".js-shop-the-look-slide",lookThumbSlider:".js-shop-the-look-thumb-slider",lookThumbSlide:".js-shop-the-look-thumb-slide",productsSlider:".js-shop-the-look-products-slider-mobile",productsSlide:".js-shop-the-look-products-slide-mobile",productsPagination:".js-shop-the-look-products-pagination-mobile",productsSliderFraction:".js-shop-the-look-products-slider-fraction-mobile",lookPointButton:".js-shop-the-look-point",lookPointButtonMobile:".js-shop-the-look-point-mobile",productsDrawer:".js-shop-the-look-drawer-mobile",productModal:".js-shop-the-look-product-modal",productModalContainer:".js-shop-the-look-product-modal-container",productModalClose:".js-shop-the-look-product-modal-close"},H={activeSlide:"swiper-slide-active"},U={ariaExpanded:"aria-expanded"},O={afterMedium:"(min-width: 1200px)"},R=()=>{let a=[];const p=window.themeCore.utils.Swiper,u=window.themeCore.utils.cssClasses;let m,b,g;const y=window.themeCore.utils.Toggle,C=window.matchMedia(O.afterMedium);let k=C.matches;async function B(o){const e=[...document.querySelectorAll(l.section)].filter(t=>!o||t.closest(`#shopify-section-${o}`));m=await window.themeCore.utils.getExternalUtil("swiperEffectFade"),b=await window.themeCore.utils.getExternalUtil("swiperMousewheel"),p.use([m,b]),e.forEach(t=>{a.push({section:t,lookSlider:t.querySelector(l.lookSlider),lookSlides:[...t.querySelectorAll(l.lookSlide)],lookThumbSlider:t.querySelector(l.lookThumbSlider),lookThumbSlides:[...t.querySelectorAll(l.lookThumbSlide)],productsSliders:[...t.querySelectorAll(l.productsSlider)],productsSlides:[...t.querySelectorAll(l.productsSlide)],pointButtons:[...t.querySelectorAll(l.lookPointButton)],pointButtonsMobile:[...t.querySelectorAll(l.lookPointButtonMobile)]}),T(t.id),x(t.id)}),v(),L()}function T(o){a.forEach(({lookSlides:e,pointButtonsMobile:t})=>{e.forEach(r=>{const n=+r.dataset.blockIndex;window.themeCore.EventBus.listen(["EscEvent:on",`Overlay:shopTheLookDrawerProducts-${o}-${n}:close`,`Toggle:shopTheLookDrawerProducts-${o}-${n}:close`],()=>{h(t)})})})}function L(){a.forEach(({lookSlides:o})=>{o.forEach(e=>{const t=e.querySelector(l.lookPointButtonMobile);if(!t)return;const r=t.dataset.jsToggle;r&&y({toggleSelector:r,toggleTabIndex:!0,overlayPlacement:document.body}).init()})})}function x(o){C.addEventListener("change",e=>q(e,o)),a.forEach(({section:e})=>{e.addEventListener("click",I),e.addEventListener("click",j),e.addEventListener("click",A),e.addEventListener("click",$)})}function q(o,e){k=o.matches;let t,r,n,c,d;a.forEach(({lookSlides:s})=>{t=s;const i=s.find(w=>w.classList.contains(H.activeSlide));d=[...i.querySelectorAll(l.lookPointButtonMobile)],r=+i.dataset.blockIndex}),k?(window.themeCore.EventBus.emit(`Toggle:shopTheLookDrawerProducts-${e}-${r}:close`),h(d)):(t.forEach(s=>{c=[...s.querySelectorAll(l.lookPointButton)],n=s.querySelector(l.productModal),n.classList.remove(u.active),h(c)}),v())}function A(o){var r;const e=o.target.closest(l.lookThumbSlide);if(!e)return;const t=e.closest(l.lookThumbSlider);f(t.swiper,(r=e.dataset)==null?void 0:r.slideIndex)}function I(o){const e=o.target.closest(l.lookPointButton);e&&D(e)}function j(o){const e=o.target.closest(l.lookPointButtonMobile);e&&F(e)}function D(o){const e=o.closest(l.lookSlide),t=+o.dataset.productIndex,r=[...e==null?void 0:e.querySelectorAll(l.lookPointButton)];h(r),E(o);const n=e.querySelector(l.productModal),c=[...n.querySelectorAll(l.productModalContainer)],d=c.find(i=>+i.dataset.productIndex===t),s=d.querySelector(l.productModalClose);n.classList.add(u.active),c.forEach(i=>{const w=i.querySelector(l.productModalClose);i.classList.remove(u.active),S(w,!1)}),d.classList.add(u.active),S(s,!0)}function F(o){var d;const e=o.closest(l.lookSlide),t=+o.dataset.blockIndex,r=+o.dataset.productIndex,n=[...e==null?void 0:e.querySelectorAll(l.lookPointButton)];h(n),E(o);const c=(d=a.find(s=>s.productsSliders.some(i=>+i.dataset.blockIndex===t&&s.section===o.closest(l.section))))==null?void 0:d.productsSliders.find(s=>+s.dataset.blockIndex===t);f(c.swiper,r),r===0&&P(c,r+1)}function $(o){const e=o.target.closest(l.productModalClose);if(!e)return;const t=e.closest(l.lookSlide),r=[...t==null?void 0:t.querySelectorAll(l.lookPointButton)];t.querySelector(l.productModal).classList.remove(u.active),h(r),S(e,!1)}function S(o,e){o&&o.setAttribute(U.ariaExpanded,e)}function f(o,e){o.slideTo(e)}function h(o){o.forEach(e=>e.classList.remove(u.active))}function E(o){o.classList.add(u.active)}function v(){a.forEach(o=>{V(o.lookSlider,o.lookThumbSlider),!k&&o.productsSliders.forEach(e=>{const t=e.querySelector(l.productsPagination);z(e,t)})})}function V(o,e){let t=new p(e,{direction:"horizontal",slidesPerView:3.65,spaceBetween:8,watchSlidesProgress:!0,breakpoints:{576:{direction:"horizontal",slidesPerView:4},1200:{direction:"vertical",slidesPerView:"auto"}}}),r=new p(o,{direction:"horizontal",slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},speed:600,spaceBetween:16,thumbs:{swiper:t},breakpoints:{1200:{direction:"vertical"}}});r.on("slideChange",function(){f(t,r.activeIndex)})}function z(o,e){g=new p(o,{grabCursor:!0,slidesPerView:1,spaceBetween:16,pagination:{el:e,type:"bullets",clickable:!0}}),g.on("slideChange",function(t){P(o,t.activeIndex+1)})}function P(o,e){const t=o.closest(l.productsDrawer);if(!t)return;const r=t.querySelector(l.productsSliderFraction);r&&(r.innerHTML=e)}return Object.freeze({init:B})},M=()=>{window.themeCore.ShopTheLook=window.themeCore.ShopTheLook||R(),window.themeCore.utils.register(window.themeCore.ShopTheLook,"shop-the-look")};window.themeCore&&window.themeCore.loaded?M():document.addEventListener("theme:all:loaded",M,{once:!0});
