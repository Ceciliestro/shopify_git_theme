import{d as se}from"./disableTabulationOnNotActiveSlidesWithModel-5413c83c.js";const c={container:"[data-js-product-form]",product:"[data-js-product-json]",skuWrapper:".js-product-sku-wrapper",sku:".js-product-sku",price:".js-price",productPrice:"[data-product-price]",productPriceOld:"[data-price-old]",priceUnit:"[data-js-unit-price]",variantId:'[name="id"]',submit:'[type="submit"]',quantityError:".js-product-quantity-error",variants:"[data-js-product-variant]",variantElemJSON:"[data-selected-variant]",isPreset:"[data-is-preset]",productInventoryWrapper:".js-product-inventory-wrapper",lowStockText:".js-product-low-stock-msg",highStockText:".js-product-high-stock-msg",inventoryStatusQuantity:".js-product-inventory-status-quantity",swatchPreview:".js-swatch-preview",stickyBar:".js-sticky-add-to-cart",stickyBarButton:".js-sticky-add-to-cart-button",recipientCheckbox:".js-recipient-form-checkbox",recipientFieldsContainer:".js-recipient-form-fields",recipientField:".js-recipient-form-field",recipientTimeZoneOffset:".js-recipient-form-timezone-offset",recipientNoJsControl:".js-recipient-form-no-js-control",customFieldGroup:".js-custom-field-block",customFieldInput:".js-custom-field-input",customFieldCheckbox:".js-custom-field-checkbox",animate:".js-animate",breaksVal:".js-price-breaks-val",volumePricing:".js-product-volume-pricing",quantityRuleMin:".js-product-quantity-rule-min",quantityRuleMax:".js-product-quantity-rule-max",quantityRuleIncrement:".js-product-quantity-rule-increment",quantityRuleMinVal:".js-product-quantity-rule-min-val",quantityRuleMaxVal:".js-product-quantity-rule-max-val",quantityRuleIncrementVal:".js-product-quantity-rule-increment-val",volumePricingList:".js-product-volume-pricing-list",volumePricingJSON:"[data-product-qty-breaks-json]",volumePricingShowMore:".js-product-volume-pricing-show-more",priceVolume:".js-price-volume",formError:".js-form-error",swatchLabelName:".js-swatch-label-name",quantityRules:".js-product-quantity-rules",discountButton:".js-discount-button",discountStatus:"[data-discount-button-status]",discountCode:".js-discount-code"};let E={};const X={id:"id",isCurrencyEnabled:"data-currency-code-enabled",discountStatus:"data-discount-button-status"},ee=new Map;let te=new AbortController,ie=new AbortController;const qe=()=>{let x,b,u,k,R,F=[],p=[];function T(){window.themeCore.utils.arrayIncludes,x=window.themeCore.utils.convertFormData,b=window.themeCore.utils.QuantityWidget,u=window.themeCore.utils.cssClasses,k=window.themeCore.utils.formatMoney,R=window.themeCore.utils.getUrlWithVariant,E={...u,onSale:"price--on-sale",hidePrice:"price--hide",animate:"js-animate",animated:"animated"},F=le(),p=de(),B(),N(),ae(),ye(),ue(),he(),ge()}function B(){p.forEach(({container:e})=>{e.addEventListener("change",Q),e.addEventListener("submit",J)}),window.themeCore.EventBus.listen("cart:updated",function(e){e&&e.items&&F.forEach(function(t){const i=Z(t),n=v(i);P(t,i,n,!1),q(t,i),W(t,n)})})}function N(){p.length&&p.forEach(({container:e})=>{const t=e.getAttribute("id");window.themeCore.EventBus.listen(`form:${t}:change-variant`,$)})}function $({currentVariant:e,elements:t,form:i,product:n,isTrusted:o}){const r=v(e);o&&(U(e,i),z(e,i),l(t,e),l({skuContainer:t.mobileSkuContainer},e),C(t,e),L(t,e),w(t),H(t,e),D(e,i)),P(i,e,r,o),q(i,e),W(i,r)}function D(e,t){const i=t.querySelector("pickup-availability");i&&(e&&e.available?i.fetchAvailability(e.id):(i.removeAttribute("available"),i.innerHTML=""))}function U(e,t){const i=t.querySelector(c.swatchLabelName);if(!i)return;if(!e){const a=i.getAttribute("data-swatch-name"),s=t.querySelector(`[data-option='${a}']:checked`);s&&(i.textContent=s.value);return}const o="option"+i.getAttribute("data-swatch-position"),r=e[o];r&&(i.textContent=r)}function z(e,t){const i=t.querySelector(c.swatchPreview);if(!i)return;const n=i.getAttribute("data-swatch-name"),o=t.querySelector(`[data-option='${n}']:checked`);if(!o)return;const r=t.querySelector(`label[for='${o.id}']`),a=r.style.getPropertyValue("--swatch-color"),s=r.style.getPropertyValue("--swatch-image");let d=s;s.includes("width=32")?d=s.replace("width=32","width=112").replace("height=32","height=112"):s.includes("width=60")?d=s.replace("width=60","width=112").replace("height=60","height=112"):s.includes("width=80")&&(d=s.replace("width=80","width=112").replace("height=80","height=112")),s?i.style.setProperty("--swatch-color",""):i.style.setProperty("--swatch-color",a),i.style.setProperty("--swatch-image",d)}function C({priceContainers:e},t){if(t){if(!e.length)return}else{e.forEach(i=>i.classList.add(E.hidePrice)),A(e,{});return}e.forEach(i=>{const o=i.hasAttribute(X.isCurrencyEnabled)?window.themeCore.objects.shop.money_with_currency_format:window.themeCore.objects.shop.money_format,{price:r,compare_at_price:a}=t,s=a>r,d=k(r,o),h=k(a,o);i.classList.remove(E.hidePrice),s?i.classList.add(E.onSale):i.classList.remove(E.onSale);const m=i.querySelectorAll(c.productPrice),g=i.querySelectorAll(c.productPriceOld);m.forEach(I=>I.innerHTML=d),g.forEach(I=>I.innerHTML=h)}),A(e,t)}function A(e,t){e.forEach(i=>{const n=[...i.querySelectorAll(c.priceUnit)];if(!n.length)return;const o=n.find(h=>h.dataset.jsUnitPrice==="container"),r=n.find(h=>h.dataset.jsUnitPrice==="money"),a=n.find(h=>h.dataset.jsUnitPrice==="reference"),s=t.unit_price,d=t.unit_price_measurement;if(r)if(s){const h=window.themeCore.objects.shop.money_format;r.innerHTML=k(s,h)}else r.innerHTML="";if(a)if(d){const h=d.reference_value,m=d.reference_unit;a.innerHTML=h!==1?h+m:m}else a.innerHTML="";o&&(s||d)?o.classList.remove(window.themeCore.utils.cssClasses.hidden):o.classList.add(window.themeCore.utils.cssClasses.hidden)})}function l({skuContainer:e},t){if(!e)return;let i=null;t&&(i=t.sku);const n=e.closest(c.skuWrapper);if(!i){const r=e.closest(c.isPreset);if(r&&r.dataset.isPreset==="true"){e.classList.remove(E.hidden),n&&n.classList.remove(E.hidden);return}e.innerHTML="",e.classList.add(E.hidden),n&&n.classList.add(E.hidden);return}const o=e.dataset.skuText;e.innerHTML=o?o.replaceAll("{SKU}",i).replaceAll("{sku}",i):i,e.classList.remove(E.hidden),n&&n.classList.remove(E.hidden)}function L({variantIdContainer:e},t){if(!e||!t)return;const{id:i}=t;e.value=i}function w({quantityError:e}){e&&(e.innerHTML="")}function H({submit:e},t){const i=()=>e.forEach(m=>m.removeAttribute("disabled")),n=()=>e.forEach(m=>m.setAttribute("disabled","disabled")),o=m=>e.forEach(g=>g.innerText=m),r=e.some(m=>m.hasAttribute("data-preorder")),a=window.themeCore.translations.get("products.product.sold_out"),s=window.themeCore.translations.get("products.product.unavailable"),d=window.themeCore.translations.get("products.product.pre_order"),h=r?d:window.themeCore.translations.get("products.product.add_to_cart");t&&t.available?(i(),o(h)):t&&!t.available?(n(),o(a)):(n(),o(s))}function q(e,t){const n=p.find(I=>I.container.getAttribute("id")===e.getAttribute("id")).elements.quantityWidgetEl,o=e.querySelector(c.quantityRules);if(!o)return;if(!t||t&&!t.quantity_rule){o.classList.add(u.hidden);return}else o.classList.remove(u.hidden);const r=t.quantity_rule,a=o.querySelector(c.quantityRuleIncrement),s=o.querySelector(c.quantityRuleMin),d=o.querySelector(c.quantityRuleMax),h=o.querySelector(c.quantityRuleIncrementVal),m=o.querySelector(c.quantityRuleMinVal),g=o.querySelector(c.quantityRuleMaxVal);h&&(h.textContent=window.themeCore.translations.get("products.product.increments_of",{number:r.increment}),n.setIncrement(r.increment),r.increment>1?a.classList.remove(u.hidden):a.classList.add(u.hidden)),m&&(m.textContent=window.themeCore.translations.get("products.product.minimum_of",{number:r.min}),n.setMin(r.min),n.toggleDecrease(),n.toggleIncrease(),r.min>1?s.classList.remove(u.hidden):s.classList.add(u.hidden)),g&&(r.max!==null?(g.textContent=window.themeCore.translations.get("products.product.maximum_of",{number:r.max}),d.classList.remove(u.hidden),n.setMax(r.max)):(g.textContent="",d.classList.add(u.hidden),n.setMax("")),n.toggleDecrease(),n.toggleIncrease()),r.increment<2&&r.min<2&&r.max===null?o.classList.add(u.hidden):o.classList.remove(u.hidden)}function P(e,t,i,n){const r=p.find(f=>f.container.getAttribute("id")===e.getAttribute("id")).elements.quantityWidgetEl;if(!e.querySelector("[name=id]"))return;const s=e.querySelector(c.volumePricing),d=e.querySelector(c.volumePricingList),h=e.querySelector(c.volumePricingJSON);let m=null;if(!h||!s)return;if(t){if(m=JSON.parse(h.innerHTML)[t.id].quantity_price_breaks,I(m),!n)return;m.length?(g(m),s.classList.remove(u.hidden)):s.classList.add(u.hidden)}else s.classList.add(u.hidden);function g(f){const y=e.querySelector(c.volumePricingShowMore),M=window.themeCore.objects.shop.money_with_currency_format,j=window.themeCore.translations.get("products.product.volume_pricing.each",{price:k(t.price,M)});y.addEventListener("click",function(S){S.preventDefault();let Y=d.querySelectorAll(".is-hidden");Y.length&&(Y.forEach(function(V){V.classList.remove(u.hidden)}),y.classList.add(u.hidden))}),d.innerHTML="";let O=`
				<li class="product-volume-pricing__list-item">
					<span>${t.quantity_rule.min}<span aria-hidden>+</span></span>
					<span>${j}</span>
				</li>
			`;d.insertAdjacentHTML("beforeend",O),f.forEach(function(S,Y){let K=`
					<li class="product-volume-pricing__list-item ${Y>=2?`${u.hidden}`:""}">
						<span>${S.minimum_quantity}<span aria-hidden>+</span></span>
						<span>${S.price_each}</span>
					</li>
				`;d.insertAdjacentHTML("beforeend",K)}),f.length>=3?y.classList.remove(u.hidden):y.classList.add(u.hidden)}function I(f){const y=e.querySelectorAll(c.priceVolume),M=window.themeCore.objects.shop.money_with_currency_format,j=window.themeCore.translations.get("products.product.volume_pricing.price_at_each",{price:k(t.price,M)});if(!y.length)return;if(!t){y.forEach(S=>S.classList.add(u.hidden));return}if(!f||!f.length){y.forEach(S=>S.innerHTML=j),y.forEach(S=>S.classList.remove(u.hidden));return}const O=f.findLast(S=>Number(i)+Number(r.quantity.value)>=S.minimum_quantity);if(!O){y.forEach(S=>S.innerHTML=j),y.forEach(S=>S.classList.remove(u.hidden));return}y.forEach(S=>S.innerHTML=O.price_at_each),y.forEach(S=>S.classList.remove(u.hidden))}}function v(e){const t=window.themeCore.cartObject;if(!t||!e)return;if(!t.items.length)return 0;const i=t.items.find(function(n){return n.variant_id===e.id});return i?i.quantity:0}function W(e,t){if(!e)return;const i=e.querySelector(c.breaksVal);i&&(i.classList.toggle(u.hidden,!t),t||(i.innerHTML=""),i.innerHTML=window.themeCore.translations.get("products.product.quantity_in_cart",{quantity:t}))}async function Q({currentTarget:e,target:t,isTrusted:i}){const n=p.find(({container:V,elements:{optionElements:K}})=>e===V);if(!n)return;if(t.hasAttribute("data-quantity-input")){let V=Z(e),K=v(V);P(e,V,K,!1),q(e,V),W(e,K)}if(!t||!t.hasAttribute("data-option"))return;t.tagName==="SELECT"&&t.selectedOptions.length&&(Array.from(t.options).find(V=>V.getAttribute("selected")).removeAttribute("selected"),t.selectedOptions[0].setAttribute("selected","selected"));const o=e.closest("[data-section-type=product]"),r=o.getAttribute("data-section-id"),a=o.getAttribute("data-url"),s=e.querySelector(".js-product-options");if(!s)return;const d=Array.from(s.querySelectorAll("select[data-option] option[selected], input[data-option]:checked")).map(({dataset:V})=>V.optionValueId),h=d.length>0?`&option_values=${d.join(",")}`:"",m=`${a}?section_id=${r}${h}`;let g;const I=ee.get(m);if(I)g=I;else try{te.abort(),te=new AbortController,g=await(await fetch(m,{signal:te.signal})).text(),ee.set(m,g)}catch{return}oe(e);const f=new DOMParser().parseFromString(g,"text/html");s.innerHTML=f.querySelector(".js-product-options").innerHTML;let y=Z(s),M=n.elements,j=n.product,O=e.querySelector(c.volumePricingJSON);O&&f.querySelector(c.volumePricingJSON)&&(O.innerHTML=f.querySelector(c.volumePricingJSON).innerHTML),document.querySelector(`#${t.id}`)&&document.querySelector(`#${t.id}`).focus();const S=e.getAttribute("id");window.themeCore.EventBus.emit(`form:${S}:change-variant`,{form:e,product:j,currentVariant:y,elements:M,isTrusted:i}),y&&window.themeCore.EventBus.emit(`pdp:section-${r}:change-variant`,{variantId:y.id,variant:y,product:j,firstInitialization:!1});let Y=e.querySelector(c.productInventoryWrapper);Y&&f.querySelector(c.productInventoryWrapper)&&(Y.outerHTML=f.querySelector(c.productInventoryWrapper).outerHTML),re(e)&&ne(y)}function G(e){let t=!1;return e.forEach(function(i){const n=i.input.value.trim();i.checkbox&&(i.checkbox.checked&&!n.length?(i.input.classList.add("error"),i.checkbox.classList.remove("error"),t=!0):!i.checkbox.checked&&n.length?(i.input.classList.remove("error"),i.checkbox.classList.add("error"),t=!0):(i.input.classList.remove("error"),i.checkbox.classList.remove("error")))}),t}function J(e){const t=e.target;e.preventDefault();const i=p.find(a=>a.id===t.getAttribute(X.id)),n=i.elements.customFieldElements;if(n&&G(n))return;if(i){const{submit:a}=i.elements;a.forEach(s=>s.classList.add(E.loading))}const o=new FormData(t),r=x(o);window.themeCore.CartApi.makeRequest(window.themeCore.CartApi.actions.ADD_TO_CART,r).then(a=>{_(a,i)}).catch(a=>{ce(a,i)})}function _(e,t){if(!t)return;const i=t.container,{quantityWidget:n,submit:o}=t.elements;n&&n.setValue(0),o.forEach(r=>r.classList.remove(E.loading)),fe(i),window.themeCore.CartApi.makeRequest(window.themeCore.CartApi.actions.GET_CART)}function ce(e,t){if(!t)return;const i=t.container,n=i.querySelector(c.recipientCheckbox);let{description:o}=e;const{quantityError:r,submit:a}=t.elements;if(typeof o=="object"&&n){const s=t.container.dataset.sectionId;let d=e.errors;const h=i.querySelectorAll(c.formError),m=i.querySelectorAll(c.recipientField);return h.length&&m.length&&(h.forEach(function(g){g.classList.add(E.hidden),g.innerText=""}),m.forEach(function(g){g.setAttribute("aria-invalid",!1),g.removeAttribute("aria-describedby")})),Object.entries(d).forEach(([g,I])=>{const f=`RecipientForm-${g}-error-${s}`,y=i.querySelector(`#${f}`),M=`Recipient-${g}-${s}`,j=i.querySelector(`#${M}`);let O=`${I.join(", ")}`;g==="send_on"&&(O=`${I.join(", ")}`),y&&(y.innerText=O,y.classList.remove(E.hidden)),j&&(j.setAttribute("aria-invalid",!0),j.setAttribute("aria-describedby",f)),a.forEach(S=>S.classList.remove(E.loading))})}r&&(r.innerHTML=o),a.forEach(s=>s.classList.remove(E.loading))}function Z(e){if(!e)return;const t=e.querySelector(c.variantElemJSON);return t?JSON.parse(t.innerHTML):null}function ne(e){if(!e)return null;const t=R(window.location.href,e.id);window.history.replaceState({path:t},"",t)}function re(e){return e.dataset.enableHistoryState||!1}function ae(){p.forEach(async e=>{let t=Z(e.container);if($({currentVariant:t,elements:e.elements,form:e.container,product:e.product,isTrusted:!0}),t){const n=e.container.closest("[data-section-type=product]").getAttribute("data-section-id");window.themeCore.EventBus.emit(`pdp:section-${n}:change-variant`,{variantId:t.id,variant:t,product:e.product,firstInitialization:!0})}re(e.container)&&ne(t),await oe(e.container)})}function le(){return[...document.querySelectorAll(c.container)]}function de(){return F.reduce((e,t)=>{const i=t.querySelector(c.product);let n={};try{n=JSON.parse(i.innerHTML)}catch{return e}const o=t.getAttribute(X.id),r=[...t.querySelectorAll(c.submit)],a=t.querySelector(c.sku),s=[...t.querySelectorAll(c.price)],d=t.querySelector(c.quantityError),h=t.querySelector(c.variantId);let m=[...t.querySelectorAll("[data-option]")],g=null;const I=b(t,{onQuantityChange:M=>{w({quantityError:d})}}).init(),y=[...t.querySelectorAll(c.customFieldGroup)].map(function(M){let j=M.querySelector(c.customFieldInput),O=M.querySelector(c.customFieldCheckbox);return{input:j,checkbox:O}});return[...e,{id:o,container:t,product:n,elements:{skuContainer:a,priceContainers:s,quantityWidgetEl:I,quantityError:d,variantIdContainer:h,submit:r,mobileSkuContainer:g,optionElements:m,customFieldElements:y}}]},[])}function ue(){F.forEach(e=>{const t=e.querySelector(c.stickyBar),i=e.querySelector(c.submit);if(!t||!i)return;new IntersectionObserver(o=>{o.forEach(r=>{const a=i.getBoundingClientRect();if(t.classList.toggle(window.themeCore.utils.cssClasses.active,!r.isIntersecting&&a.bottom<0),!r.isIntersecting){const s=t.closest(c.animate);s&&s.classList.remove(E.animate),s&&s.classList.add(E.animated)}})},{}).observe(i),t.addEventListener("click",o=>{o.target.closest(c.stickyBarButton)&&i.focus()})})}function he(){F.forEach(e=>{const t=e.querySelector(c.recipientCheckbox),i=e.querySelector(c.recipientFieldsContainer),n=e.querySelectorAll(c.recipientField),o=e.querySelector(c.recipientTimeZoneOffset),r=e.querySelector(c.recipientNoJsControl);if(!t||!i||!n||!o)return;o.value=new Date().getTimezoneOffset().toString(),r.disabled=!0,t.disabled=!1,a(),t.addEventListener("change",function(){t.checked?(i.classList.remove(E.hidden),s()):(i.classList.add(E.hidden),a())});function a(){n.forEach(function(d){d.disabled=!0}),o.disabled=!0}function s(){n.forEach(function(d){d.disabled=!1}),o.disabled=!1}})}function pe(e){if(!e.querySelector(c.recipientCheckbox))return;const n=e.querySelector(c.recipientFieldsContainer).querySelectorAll(c.formError),o=e.querySelectorAll(c.recipientField);!n||!o||(n.forEach(function(r){r.classList.add(E.hidden),r.innerText=""}),o.forEach(function(r){r.setAttribute("aria-invalid",!1),r.removeAttribute("aria-describedby")}))}function me(e){if(!e.querySelector(c.recipientCheckbox))return;const i=e.querySelectorAll(c.recipientField);i&&i.forEach(function(n){n.value=""})}function fe(e){const t=e.querySelector(c.recipientCheckbox);t&&t.checked&&(t.checked=!1,t.dispatchEvent(new Event("change")),pe(e),me(e))}function ye(){F.forEach(e=>{const t=e.querySelector(c.variants);t&&t.dataset.jsProductVariant!=="no-hidden"&&t.classList.add(u.hidden)})}function ge(){F.forEach(e=>{const t=e.querySelector(c.discountButton);let i=!1;t==null||t.addEventListener("click",()=>{if(!i){const n=e.querySelectorAll(c.discountStatus),o=e.querySelector(c.discountCode),r=document.createElement("textarea");r.value=o.textContent,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),n.forEach(a=>{const s=a.getAttribute(X.discountStatus)==="active";a.classList.toggle(u.hidden,!s)}),i=!0}})})}function be(e){const t=e.reduce((a,s)=>(a[s.name]||(a[s.name]=[]),a[s.name].push(s),a),{}),i=Object.values(t);function n(a){return a.reduce((s,d)=>{const h=[];return s.forEach(m=>{d.forEach(g=>{h.push([...m,g])})}),h},[[]])}return n(i).map(a=>({option_values:a.map(s=>s.value).join(","),selected:a.every(s=>s.selected),options:a}))}function we(e){const t=e.find(n=>n.selected);if(!t)return e;const i=t.options.map(n=>n.value);return e.sort((n,o)=>{const r=n.options.filter(h=>i.includes(h.value)).length,a=o.options.filter(h=>i.includes(h.value)).length,s=i.length-r,d=i.length-a;return s!==d?s-d:0})}async function ve(e){const t=await fetch(e,{signal:ie.signal});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.text()}async function oe(e){const t=e.querySelector(".js-product-options");if(!t)return;const i=e.closest("[data-section-type=product]"),n=i.getAttribute("data-section-id"),o=i.getAttribute("data-url"),r=Array.from(t.querySelectorAll("select[data-option] option, input[data-option]")).map(f=>{var y,M;return{name:f.dataset.option||((M=(y=f.closest("select"))==null?void 0:y.dataset)==null?void 0:M.option),value:f.dataset.optionValueId,selected:f.matches("[selected], :checked")}}),a=be(r),m=we(a).filter(f=>!Array.from(ee.keys()).some(y=>y.includes(f.option_values))).slice(0,20).map(({option_values:f})=>`${o}?section_id=${n}&option_values=${f}`);ie.abort(),ie=new AbortController;const g=m.map(f=>ve(f));(await Promise.allSettled(g)).forEach((f,y)=>{if(f.status==="fulfilled"){const M=m[y];ee.set(M,f.value)}})}function Se(){return p}return Object.freeze({init:T,allForms:Se})},Ee=({config:x,selectors:b,sectionId:u})=>{const k=window.themeCore.utils.Swiper,R=window.themeCore.utils.extendDefaults;b=R({slider:".js-product-media-slider",sliderNavigationNext:".js-product-media-slider-next",sliderNavigationPrev:".js-product-media-slider-prev",thumbNavigationNext:".js-product-media-thumb-next",thumbNavigationPrev:".js-product-media-thumb-prev",sliderSlideVariantId:".js-product-gallery-slide-variant",sliderThumbnails:".js-product-media-slider-thumbnails",activeClass:".swiper-slide-active",modelPoster:".js-product-media-model-poster",notInitedIframe:".js-video.js-video-youtube, .js-video:empty"},b);let p=null,T=null,B=!1;function N(){if(B)return p;const C=document.querySelector(b.slider),A=document.querySelector(b.sliderThumbnails);let l=C.dataset.autoHeight;const L=A.dataset.thumbnailsPosition;let w="horizontal";L==="right"&&(w="vertical"),w==="horizontal"?T=new k(b.sliderThumbnails,{direction:w,slidesPerView:6,spaceBetween:4,freeMode:!0,watchSlidesProgress:!0,a11y:{slideRole:""},threshold:10,breakpoints:{1200:{slidesPerView:6,spaceBetween:16}}}):T=new k(b.sliderThumbnails,{direction:"horizontal",slidesPerView:6,spaceBetween:4,freeMode:!0,watchSlidesProgress:!0,threshold:10,breakpoints:{1200:{direction:w,slidesPerView:"auto",spaceBetween:16}}}),T.$el.on("keydown",J=>{if(J.keyCode!==13&&J.keyCode!==32)return;const _=J.target.dataset.slideIndex;_&&(T.slideTo(_),p.slideTo(_))});let H=document.querySelector(b.sliderNavigationPrev),q=document.querySelector(b.sliderNavigationNext);document.querySelector(b.slider).getAttribute("data-dynamic-pagination"),l=l==="true",p=new k(b.slider,{...x,autoHeight:l,spaceBetween:8,navigation:{nextEl:q,prevEl:H},thumbs:{swiper:T}});let P=document.querySelector(b.thumbNavigationPrev),v=document.querySelector(b.thumbNavigationNext);w==="vertical"&&P&&v&&(p.on("slideChange",function(){this.activeIndex===0?(P.setAttribute("disabled",""),P.classList.add("swiper-button-disabled")):(P.removeAttribute("disabled"),P.classList.remove("swiper-button-disabled")),this.slides.length-1===this.activeIndex?(v.setAttribute("disabled",""),v.classList.add("swiper-button-disabled")):(v.removeAttribute("disabled",""),v.classList.remove("swiper-button-disabled"))}),P.addEventListener("click",function(){p.slidePrev()}),v.addEventListener("click",function(){p.slideNext()})),p.on("slideChange",function(J){const _=J.slides[J.activeIndex];_&&(J.allowTouchMove=!(_.hasAttribute("data-model-slide")&&!_.querySelector(b.modelPoster)))});const W=document.querySelector(b.slider),Q=new MutationObserver(()=>{W.querySelector(b.notInitedIframe)||(se(p),Q.disconnect())}),G={attributes:!0,childList:!0,subtree:!0};Q.observe(W,G),$(),B=!0}function $(){p&&(p.on("slideChange",function(C){window.themeCore.EventBus.emit("product-slider:slide-change"),se(C)}),window.themeCore.EventBus.listen(`pdp:section-${u}:change-variant`,D))}function D({variant:C}){if(!p)return;let A=null;C.featured_media&&(A=C.featured_media.id);const l=[...p.slides].findIndex(L=>{const w=L.querySelector(b.sliderSlideVariantId);return w?w.getAttribute("data-media-id").includes(A):!1});l===!1||l===-1||p.slideTo(l)}function U(){p&&B&&(p.destroy(),p=null),T&&B&&(T.destroy(),T=null),B=!1}function z(){p&&(p.allowTouchMove=!1)}return Object.freeze({init:N,destroy:U,disableSwipe:z})},Le=x=>{const b={mediaContainer:".js-product-media-container",mediaItem:".js-product-media-item",mediaItemVariant:".js-product-media-item-variant",header:".js-header",cssRoot:":root"},u={enableMediaScroller:"data-enable-media-scroller",staticHeader:"data-static-header",hideOnScrollHeader:"data-hide-on-scroll-down"},k={headerHeightStatic:"--header-height-static",headerHeight:"--header-height"},R={afterMedium:"(min-width: 1200px)"},F=x&&x.dataset.sectionId,p=document.querySelector(b.cssRoot);let T;function B(){if(!x)return;const C=x.querySelector(b.mediaContainer);!C||!C.hasAttribute(u.enableMediaScroller)||N()}function N(){window.themeCore.EventBus.listen(`pdp:section-${F}:change-variant`,$)}function $({variant:C,variantId:A,firstInitialization:l}){if(T===A||(T=A,!window.matchMedia(R.afterMedium).matches||l))return;let w=null;C.featured_media&&(w=C.featured_media.id);const P=[...x.querySelector(b.mediaContainer).querySelectorAll(b.mediaItem)].find(v=>{const W=v.querySelector(b.mediaItemVariant);return W?W.getAttribute("data-media-id").includes(w):!1});if(!P)return null;D(P)}function D(C){const A=x.getBoundingClientRect(),l=C.getBoundingClientRect(),L=Math.round(l.top),w=Math.round(A.top),H=Math.round(A.bottom),q=Math.round(window.scrollY),P=16;let v=q+L-P;const W=q+w-P,Q=q+H+P;v=Math.max(v,W);const G=U(),J=G===0?v:v-G+P;if(Math.abs(q-J)<=1)return;const _=z(q,v);v=_===0?v:v-_+P,v=Math.min(v,Q-window.innerHeight),window.scrollTo({top:v,behavior:"smooth"})}function U(){const C=document.querySelector(b.header);if(!C||C.hasAttribute(u.staticHeader))return 0;const l=p.style.getPropertyValue(k.headerHeight);return l?parseInt(l):0}function z(C,A){const l=document.querySelector(b.header);if(!l)return 0;const L=l.hasAttribute(u.staticHeader),w=l.hasAttribute(u.hideOnScrollHeader),H=p.style.getPropertyValue(k.headerHeightStatic),q=H?parseInt(H):0;return L||w&&C<A-q?0:q}return Object.freeze({init:B})},Ae=x=>{const b=window.themeCore.utils.on,u=1,k=100,R={stickyContainer:".js-product-sticky-container",headerContentWrapper:"[data-header-container]",headerSticky:"[data-header-sticky]",cssRoot:":root"},F={headerHeightStatic:"--header-height-static"},p={afterMedium:1200},T=[...x.querySelectorAll(R.stickyContainer)],B=document.querySelector(R.cssRoot);let N=U(),$=window.innerHeight,D=window.scrollY;function U(){const l=document.querySelector(R.headerContentWrapper);if(!l||!l.closest(R.headerSticky))return u;const w=B.style.getPropertyValue(F.headerHeightStatic);return w?parseInt(w):u}function z(){if(T){const l=T.reduce((L,w)=>w.offsetHeight>(L&&L.offsetHeight)?L:w);C(l)}}function C(l){!l||!x||(l.style.top=N+"px",b("scroll",()=>{A(l)}))}function A(l){if(window.innerWidth<p.afterMedium)return;N=U();let L=l.getBoundingClientRect().height||0,w=$-L+N;setTimeout(()=>{let H=window.scrollY;if($=window.innerHeight,L=l.getBoundingClientRect().height||0,w<N&&(D>w?x.style.top=`${$-L}px`:x.style.top=`${D}px`),H>D){let q=parseInt(l.style.top.replace("px",""));if(!q)return;q>$-L-Math.ceil(l.clientHeight/k)&&(l.style.top=`${q-Math.ceil(l.clientHeight/k)}px`)}else if(H<D){let q=parseInt(l.style.top.replace("px",""));if(!q)return;q<N&&(l.style.top=`${q+Math.ceil(l.clientHeight/k)}px`)}D=window.scrollY},0)}return Object.freeze({init:z})};export{Ee as P,Ae as a,Le as b,qe as c};
