import{P as x,a as N,b as G,c as O}from"./product-sticky-form-1b22011d.js";import"./disableTabulationOnNotActiveSlidesWithModel-5413c83c.js";const M=t=>{const s=window.themeCore.utils.Toggle,c=window.themeCore.utils.isElementInViewport,d=window.themeCore.utils.off,u=window.themeCore.utils.on,f=window.themeCore.utils.cssClasses,n={mediaContainer:".js-product-media-container",thumbnailsStacked:".js-product-media-thumbnails-stacked",thumbnailsSlide:".js-product-media-thumbnails-slide",slide:".js-product-gallery-slide",modelButton:".js-product-media-model-button",modelPoster:".js-product-media-model-poster",modelContent:".js-product-media-model-content"},r=t&&t.dataset.sectionId,k={slider:`.js-product-media-slider-${r}`,sliderNavigationNext:`.js-product-media-slider-next-${r}`,sliderNavigationPrev:`.js-product-media-slider-prev-${r}`,thumbNavigationNext:`.js-product-media-thumb-next-${r}`,thumbNavigationPrev:`.js-product-media-thumb-prev-${r}`,sliderSlideVariantId:`.js-product-gallery-slide-variant-${r}`,sliderThumbnails:`.js-product-media-slider-thumbnails-${r}`,sliderPagination:`.product-media__slider-pagination-${r}`},b={stacked:"product-media--layout-stacked",stacked_2_col:"product-media--layout-stacked_2_col",stacked_2_col_with_big_img:"product-media--layout-stacked_2_col_with_big_image",slider:"product-media--layout-carousel"},h={sizeGuideDrawer:`productSizeGuideDrawer-${r}`,descriptionDrawer:`descriptionDrawer-${r}`,customDrawer1:`productDrawer1-${r}`,customDrawer2:`productDrawer2-${r}`,customDrawer3:`productDrawer3-${r}`,customDrawer4:`productDrawer4-${r}`};let S=null;function A(){S=x({selectors:k,sectionId:r}),N(t).init(),I(),z(),H();const o=t.dataset.productHandle;if(!o)return;let i=localStorage.getItem("theme_recently_viewed");if(i)try{i=JSON.parse(i),i=i.filter(l=>l!==o),i.push(o),i=i.slice(-13),localStorage.setItem("theme_recently_viewed",JSON.stringify(i))}catch(l){console.log(l)}finally{return}localStorage.setItem("theme_recently_viewed",`["${o}"]`)}function I(){const e=t.querySelector(n.mediaContainer);if(!e)return;const o=e.dataset.mediaLayout;o&&(o==="carousel"&&S.init(),(o==="stacked"||o==="stacked_2_col"||o==="stacked_2_col_with_big_image")&&(T(),u("scroll",document,D),F(),u("resize",T),G(t).init()))}function T(){const e=t.querySelector(n.mediaContainer);if(!e)return;const o=e.dataset.mediaLayout;let i=b.stacked;o==="stacked_2_col"?i=b.stacked_2_col:o==="stacked_2_col_with_big_image"&&(i=b.stacked_2_col_with_big_img),window.innerWidth>1199?(S.destroy(),e.classList.add(i),e.classList.remove(b.slider)):(S.init(),e.classList.add(b.slider),e.classList.remove(i))}function D(){d("scroll",document,D);const e=t.querySelector(n.mediaContainer),o=t.querySelector(n.thumbnailsStacked);if(!e||!o)return;[...e.querySelectorAll(n.slide)].forEach(l=>{setTimeout(()=>{if(c(l,o,200)){const m=[...o.querySelectorAll(n.thumbnailsSlide)];m.forEach(a=>{a.classList.remove(f.active)});const p=m.find(a=>a.dataset.mediaId===l.dataset.mediaId);if(p){p.classList.add(f.active);const a=p.offsetTop,g=o.offsetHeight/2,w=p.offsetHeight/2,E=a-g+w;o.scroll(0,E)}}u("scroll",document,D)},700)})}function F(){const e=t.querySelector(n.thumbnailsStacked);if(!e)return;let o={top:0,left:0,x:0,y:0},i=!1;const l=function(a){e.style.cursor="grabbing",e.style.userSelect="none",e.style.scrollBehavior="auto",o={left:e.scrollLeft,top:e.scrollTop,x:a.clientX,y:a.clientY},u("mousemove",document,m),u("mouseup",document,p)},m=function(a){const g=a.clientX-o.x,w=a.clientY-o.y;i=!!(g+w),e.scrollTop=o.top-w,e.scrollLeft=o.left-g},p=function(){const a=[...e.querySelectorAll("a")];if(a&&i){const g=w=>{w.preventDefault(),a.forEach(E=>{d("click",E,g)}),i=!1};a.forEach(w=>{u("click",w,g)})}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),e.style.cursor="grab",e.style.removeProperty("user-select"),e.style.scrollBehavior="smooth"};u("mousedown",e,l)}function z(){try{v(h.sizeGuideDrawer,{hasFullWidth:!0}),v(h.descriptionDrawer),v(h.customDrawer1),v(h.customDrawer2),v(h.customDrawer3),v(h.customDrawer4)}catch{}}function v(e,o={}){if(!document.querySelector(`[data-js-toggle="${e}"]`))return;const l=s({toggleSelector:e,...o});if(l.init(),e===h.sizeGuideDrawer){let m=document.getElementById(h.sizeGuideDrawer);if(!m)return;u("click",m,function(p){p.target==this&&l.close(m)})}}function H(){[...t.querySelectorAll(n.modelButton)].length&&t.addEventListener("click",o=>{const i=o.target.closest(n.modelButton);if(!i)return;const l=i.parentElement,m=l.querySelector(n.modelPoster),p=l.querySelector(n.modelContent);!m||!p||(m.remove(),i.remove(),p.classList.remove(f.hidden),S.disableSwipe())})}return Object.freeze({init:A})},y={section:'[data-section-type="product"]',productAvailabilityToggleSelector:"[data-js-toggle-selector]",mediaContainer:".js-product-media-container",video:".js-video",slide:".js-product-gallery-slide",paused:".js-paused-video",placeholder:".js-product-gallery-video-placeholder"},C=[];let j,L,$,q,_;function Y(t){_={...window.themeCore.utils.cssClasses,pausedVideo:"is-paused-video"},$=window.themeCore.utils.Toggle,j=[...document.querySelectorAll(y.section)].filter(s=>!t||s.closest(`#shopify-section-${t}`)),L=O(),j.forEach(J),L.init(),q=window.themeCore.utils.Video,K(),U(),window.themeCore.EventBus.emit("product:loaded")}function J(t){const s=M(t);window.themeCore.EventBus.listen(`pickup-availability-drawer:productAvailability-pickup-availability__${t.dataset.sectionId}:loaded`,()=>{const d=[...document.querySelectorAll(y.productAvailabilityToggleSelector)].find(f=>f.dataset.jsToggle===`productAvailability-pickup-availability__${t.dataset.sectionId}`);$({toggleSelector:d.dataset.target}).init()}),window.setTimeout(()=>{W(t)},0),s.init()}function B(){C.length||window.themeCore.EventBus.remove("product-slider:slide-change",B),V()}function W(t){const s=t.querySelector(y.mediaContainer);s&&s.addEventListener("click",c=>{const d=c.target.closest(y.paused);if(!d||!d.classList.contains(_.pausedVideo))return;const u=d.querySelector(y.placeholder),f=d.querySelector(y.video);V(f),u&&(d.classList.remove(_.pausedVideo),u.classList.add(_.hidden),C.forEach(({player:n,videoWrapper:r,type:k})=>{r===f&&X(n,k)}))})}function X(t,s){const c=window.themeCore.utils.VIDEO_TYPES;switch(s){case c.html:{t.play();break}case c.vimeo:{t.play();break}case c.youtube:{t.mute(),t.playVideo();break}default:return}}function V(t){C.forEach(({player:s,videoWrapper:c})=>{if(c!==t){try{s.pauseVideo()}catch{}try{s.pause()}catch{}}})}function U(){window.themeCore.EventBus.listen("product-slider:slide-change",B)}async function K(){[...document.querySelectorAll(y.slide)].forEach(s=>{const[c]=q({videoContainer:s,options:{youtube:{controls:1,showinfo:1}}}).init();c&&C.push(c)})}const Q=()=>Object.freeze({init:Y}),P=()=>{window.themeCore.FeaturedProduct=window.themeCore.FeaturedProduct||Q(),window.themeCore.utils.register(window.themeCore.FeaturedProduct,"featured-product")};window.themeCore&&window.themeCore.loaded?P():document.addEventListener("theme:all:loaded",P,{once:!0});
