import{P as Y,a as G,b as W,c as X}from"./product-sticky-form-1b22011d.js";import{d as A}from"./disableTabulationOnNotActiveSlidesWithModel-5413c83c.js";const S={container:"[data-zoom-container]",media:"[data-zoom-media]",modal:"[data-zoom-modal]",toggle:"[data-zoom-modal-toggle]",content:"[data-zoom-content]",slider:"[data-zoom-slider]",slide:"[data-zoom-slide]",modalMedia:".js-zoom-slider-modal-media",prevSlide:".swiper-button-prev",nextSlide:".swiper-button-next",button:"[data-js-zoom-button]",productSlider:"[data-js-product-media-slider]",productSliderWrapper:".swiper-wrapper",notInitedIframe:".js-video.js-video-youtube, .js-video:empty"},Z={afterMedium:1200},K=(i=document)=>{const p=window.themeCore.utils.Swiper,a=window.themeCore.utils.off,u=window.themeCore.utils.on,c=window.themeCore.utils.Toggle,v=window.themeCore.utils.VIDEO_TYPES,w=window.themeCore.utils.Video,m=window.themeCore.utils.cssClasses;let g=null,y=!1;async function f(){let t=i.querySelector(S.slider);if(!t)return;let e=t.querySelectorAll(".js-video"),o=e&&e.length>0;g=_(),g.forEach(s=>{if(!s.media.length)return;s.modal.init(),o&&P(s),s.slider=M(s);const r=new MutationObserver(()=>{s.el.querySelector(S.notInitedIframe)||(A(s.slider),r.disconnect())}),l={attributes:!0,childList:!0,subtree:!0};r.observe(s.el,l),h(s)}),b()}function h(t){let e={top:0,left:0,x:0,y:0};const o=function(l){window.innerWidth<Z.afterMedium||(e={x:l.clientX,y:l.clientY},u("mousemove",document,s),u("mouseup",document,r))},s=function(l){const n=l.clientX-e.x,d=l.clientY-e.y;y=!!(n+d)},r=function(){a("mousemove",document,s),a("mouseup",document,r)};u("mousedown",t.el,o)}function b(){g.forEach(t=>{u("click",t.el,e=>L(e,t)),u("click",t.el,e=>C(e,t)),u("click",t.el,e=>j(e,t)),window.themeCore.EventBus.listen(`Toggle:${t.modalEl.id}:close`,e=>q(e,t))})}function _(){return[...i.querySelectorAll(S.container)].map(t=>{const e=[...t.querySelectorAll(S.media)],o=[...t.querySelectorAll(S.slide)],s=t.querySelector(S.content),r=t.querySelector(S.modal),l=t.querySelector(S.slider),n=t.querySelector(S.button),d=c({toggleSelector:r.id});return{el:t,sliderEl:l,slides:o,modalEl:r,modal:d,media:e,content:s,button:n}})}function P({slides:t}){t.forEach(e=>{const[o]=w({videoContainer:e,options:{youtube:{controls:1,showinfo:1}}}).init();o&&(e.video=o)})}function M({sliderEl:t,slides:e}){return new p(t,{slidesPerView:1,allowTouchMove:!1,zoom:{maxRatio:3,minRatio:1},navigation:{prevEl:S.prevSlide,nextEl:S.nextSlide},on:{beforeSlideChangeStart:function(o){o&&o.zoom&&typeof o.zoom.out=="function"&&o.zoom.out()},slideChange:function(o){E(e),A(o)}}})}function E(t){const e=t.filter(o=>o.video);e.length&&e.forEach(({video:o})=>{v.youtube===o.type?o.player.pauseVideo():o.player.pause()})}function L(t,e){const o=t.target.closest(S.media);if(!o||!e.media.length)return;T(e.modalEl);const s=o.dataset.zoomMedia,r=e.slides.findIndex(l=>l.dataset.zoomSlide===s);e.slider.slideTo(r,0),document.querySelector(":root").style.setProperty("--page-height",` ${window.innerHeight}px`),e.modal.open(e.modalEl),A(e.slider),window.themeCore.EventBus.emit("product:zoom:open")}function C(t,e){if(!t.target.closest(S.slide)||y){y=!1;return}e.slider.zoom.toggle()}function j(t,e){if(!t.target.closest(S.button))return;T(e.modalEl);const s=e.el.dataset.mediaLayout,r=e.el.querySelector(S.productSlider);if(!r)return;let l=null;switch(s){case"carousel":l=r.querySelector(".swiper-slide-active");break;case"stacked":l=[...r.querySelectorAll(".swiper-slide")][0];break;case"stacked_2_col":l=[...r.querySelectorAll(".swiper-slide")][0];break;default:l=[...r.querySelectorAll(".swiper-slide")][0];return}if(!l||!e.media.length)return;const n=l.dataset.zoomMedia||l.dataset.zoomMediaHtmlVideo,d=e.slides.findIndex(k=>k.dataset.zoomSlide===n);e.slider.slideTo(d,0),document.querySelector(":root").style.setProperty("--page-height",` ${window.innerHeight}px`),e.modal.open(e.modalEl),A(e.slider),window.themeCore.EventBus.emit("product:zoom:open")}function T(t){const e=t.querySelectorAll(S.modalMedia);e.length<1||e.forEach(o=>{o.classList.contains(m.loading)&&(o.complete?o.classList.remove(m.loading):o.addEventListener("load",()=>{o.classList.remove(m.loading)}))})}function q(t,e){t&&(e.slider.zoom.out(),E(e.slides))}return Object.freeze({init:f})},ee=i=>{const p=i&&i.dataset.sectionId,a={notifyMeButtonContainer:".js-notify-me-button-container",notifyMeButton:".js-notify-me-button",notifyMePopup:".js-notify-me-popup",notifyMeForm:".js-notify-me-form",notifyMeFormStatus:".js-notify-me-form-status",notifyMeFormInputMessage:"[name='contact[message]']",notifyMeFormInputProductURL:"[name='contact[ProductURL]']"},u={productTitle:"{{ product_title }}"},c={active:"is-active",hidden:"is-hidden",isPosted:"is-posted",isNotifyMeActive:"is-notify-me-popup-active"},v={contactPosted:"contact_posted",contactProductUrl:"contact[ProductURL]",contactMessage:"contact[message]",formType:"form_type"},w=window.themeCore.utils.Toggle,m=window.themeCore.utils.on;let g=null,y=null,f=null,h=null,b=null,_=null,P=null,M=null,E=null,L=!1;function C(){if(!i||!p||(g=i.querySelector(a.notifyMeButtonContainer),y=i.querySelector(a.notifyMeButton),f=i.querySelector(a.notifyMePopup),h=i.querySelector(a.notifyMeForm),!y||!f||!h))return!1;E=h.id,b=h.querySelector(a.notifyMeFormInputMessage),_=h.querySelector(a.notifyMeFormInputProductURL),M=h.querySelector(a.notifyMeFormStatus),!(!b||!_||!M)&&(j(),T(),o())}function j(){P=w({toggleSelector:f.id}),P.init(),m("click",f,function(n){n.target==this&&P.close(f)}),window.themeCore.EventBus.listen(`Toggle:${f.id}:close`,t),window.themeCore.EventBus.listen(`Toggle:${f.id}:open`,e)}function T(){q()&&(h.classList.add(c.isPosted),P.open(f))}function q(){return window.location.hash.includes(`#${E}`)&&M.dataset.formStatus==="posted"}function t(){if(q()){setTimeout(()=>{h.classList.remove(c.isPosted),i.classList.remove(c.isNotifyMeActive)},400);let n=new URL(window.location.href);n.hash="",n.searchParams.delete(v.contactPosted),n.searchParams.delete(v.contactProductUrl),n.searchParams.delete(v.contactMessage),n.searchParams.delete(v.formType),window.history.replaceState({},null,n.toString())}}function e(){i.classList.add(c.isNotifyMeActive)}function o(){if(window.themeCore.EventBus.listen(`pdp:section-${p}:change-variant`,s),!L){const n=i.querySelector("[data-js-product-json]");let d;try{d=JSON.parse(n.innerText)}catch{d=null}if(!d)return;d.has_only_default_variant&&(r(d.variants[0],d),l(d.variants[0]))}}function s({variant:n,product:d}){if(L=!0,!n||!d)return!1;l(n),r(n,d)}function r(n,d){const k=n.available,B=n.id,D=d.url,V=d.title;if(k||!B||!D||!V)return b.value="",_.value="",!1;const H=`${window.location.origin}${D}?variant=${B}`,J=b.dataset.notifyMeMessage;b.value=J.replace(u.productTitle,V),_.value=H}function l(n){n.available?(g.classList.add(c.hidden),y.classList.remove(c.active)):(y.classList.add(c.active),g.classList.remove(c.hidden))}return Object.freeze({init:C})},te=i=>{const p=i&&i.dataset.sectionId,a={askQuestionButton:".js-ask-question-button",askQuestionPopup:".js-ask-question-popup",askQuestionForm:".js-ask-question-form",askQuestionFormStatus:".js-ask-question-form-status",askQuestionFormInputProductURL:"[name='contact[product_url]']"},u={active:"is-active",isPosted:"is-posted",isNotifyMeActive:"is-ask-question-popup-active"},c={contactPosted:"contact_posted",contactProductUrl:"contact[product_url]",contactMessage:"contact[body]",formType:"form_type"},v=window.themeCore.utils.Toggle,w=window.themeCore.utils.on;let m=null,g=null,y=null,f=null,h=null,b=null,_=null,P=!1;function M(){if(!i||!p||(m=i.querySelector(a.askQuestionButton),g=i.querySelector(a.askQuestionPopup),y=i.querySelector(a.askQuestionForm),!m||!g||!y))return!1;_=y.id,f=y.querySelector(a.askQuestionFormInputProductURL),b=y.querySelector(a.askQuestionFormStatus),!(!f||!b)&&(E(),L(),q())}function E(){h=v({toggleSelector:g.id}),h.init(),w("click",g,function(o){o.target==this&&h.close(g)}),window.themeCore.EventBus.listen(`Toggle:${g.id}:close`,j),window.themeCore.EventBus.listen(`Toggle:${g.id}:open`,T)}function L(){C()&&(y.classList.add(u.isPosted),h.open(g))}function C(){return window.location.hash.includes(`#${_}`)&&b.dataset.formStatus==="posted"}function j(){if(C()){setTimeout(()=>{y.classList.remove(u.isPosted),i.classList.remove(u.isNotifyMeActive)},400);let o=new URL(window.location.href);o.hash="",o.searchParams.delete(c.contactPosted),o.searchParams.delete(c.contactProductUrl),o.searchParams.delete(c.contactMessage),o.searchParams.delete(c.formType),window.history.replaceState({},null,o.toString())}}function T(){i.classList.add(u.isNotifyMeActive)}function q(){if(window.themeCore.EventBus.listen(`pdp:section-${p}:change-variant`,t),!P){const o=i.querySelector("[data-js-product-json]");let s;try{s=JSON.parse(o.innerText)}catch{s=null}if(!s)return;s.has_only_default_variant&&e(s.variants[0],s)}}function t({variant:o,product:s}){if(P=!0,!o||!s)return!1;e(o,s)}function e(o,s){const r=o.id,l=s.url;if(!r||!l)return f.value="",!1;const n=`${window.location.origin}${l}?variant=${r}`;f.value=n}return Object.freeze({init:M})},oe=i=>{const p=window.themeCore.utils.Toggle,a=window.themeCore.utils.isElementInViewport,u=window.themeCore.utils.off,c=window.themeCore.utils.on,v=window.themeCore.utils.cssClasses,w={mediaContainer:".js-product-media-container",thumbnailsStacked:".js-product-media-thumbnails-stacked",thumbnailsSlide:".js-product-media-thumbnails-slide",slide:".js-product-gallery-slide",modelButton:".js-product-media-model-button",modelPoster:".js-product-media-model-poster",modelContent:".js-product-media-model-content"},m=i&&i.dataset.sectionId,g={slider:`.js-product-media-slider-${m}`,sliderNavigationNext:`.js-product-media-slider-next-${m}`,sliderNavigationPrev:`.js-product-media-slider-prev-${m}`,thumbNavigationNext:`.js-product-media-thumb-next-${m}`,thumbNavigationPrev:`.js-product-media-thumb-prev-${m}`,sliderSlideVariantId:`.js-product-gallery-slide-variant-${m}`,sliderThumbnails:`.js-product-media-slider-thumbnails-${m}`,sliderPagination:`.product-media__slider-pagination-${m}`},y={stacked:"product-media--layout-stacked",stacked_2_col:"product-media--layout-stacked_2_col",stacked_2_col_with_big_img:"product-media--layout-stacked_2_col_with_big_image",slider:"product-media--layout-carousel"},f={sizeGuideDrawer:`productSizeGuideDrawer-${m}`,descriptionDrawer:`descriptionDrawer-${m}`,customDrawer1:`productDrawer1-${m}`,customDrawer2:`productDrawer2-${m}`,customDrawer3:`productDrawer3-${m}`,customDrawer4:`productDrawer4-${m}`};let h=null;function b(){const t=K(i);h=Y({selectors:g,sectionId:m});const e=G(i);t.init(),e.init(),_(),L(),j(),T(),q();const o=i.dataset.productHandle;if(!o)return;let s=localStorage.getItem("theme_recently_viewed");if(s)try{s=JSON.parse(s),s=s.filter(r=>r!==o),s.push(o),s=s.slice(-13),localStorage.setItem("theme_recently_viewed",JSON.stringify(s))}catch(r){console.log(r)}finally{return}localStorage.setItem("theme_recently_viewed",`["${o}"]`)}function _(){const t=i.querySelector(w.mediaContainer);if(!t)return;const e=t.dataset.mediaLayout;e&&(e==="carousel"&&h.init(),(e==="stacked"||e==="stacked_2_col"||e==="stacked_2_col_with_big_image")&&(P(),c("scroll",document,M),E(),c("resize",P),W(i).init()))}function P(){const t=i.querySelector(w.mediaContainer);if(!t)return;const e=t.dataset.mediaLayout;let o=y.stacked;e==="stacked_2_col"?o=y.stacked_2_col:e==="stacked_2_col_with_big_image"&&(o=y.stacked_2_col_with_big_img),window.innerWidth>1199?(h.destroy(),t.classList.add(o),t.classList.remove(y.slider)):(h.init(),t.classList.add(y.slider),t.classList.remove(o))}function M(){u("scroll",document,M);const t=i.querySelector(w.mediaContainer),e=i.querySelector(w.thumbnailsStacked);if(!t||!e)return;[...t.querySelectorAll(w.slide)].forEach(s=>{setTimeout(()=>{if(a(s,e,200)){const r=[...e.querySelectorAll(w.thumbnailsSlide)];r.forEach(n=>{n.classList.remove(v.active)});const l=r.find(n=>n.dataset.mediaId===s.dataset.mediaId);if(l){l.classList.add(v.active);const n=l.offsetTop,d=e.offsetHeight/2,k=l.offsetHeight/2,B=n-d+k;e.scroll(0,B)}}c("scroll",document,M)},700)})}function E(){const t=i.querySelector(w.thumbnailsStacked);if(!t)return;let e={top:0,left:0,x:0,y:0},o=!1;const s=function(n){t.style.cursor="grabbing",t.style.userSelect="none",t.style.scrollBehavior="auto",e={left:t.scrollLeft,top:t.scrollTop,x:n.clientX,y:n.clientY},c("mousemove",document,r),c("mouseup",document,l)},r=function(n){const d=n.clientX-e.x,k=n.clientY-e.y;o=!!(d+k),t.scrollTop=e.top-k,t.scrollLeft=e.left-d},l=function(){const n=[...t.querySelectorAll("a")];if(n&&o){const d=k=>{k.preventDefault(),n.forEach(B=>{u("click",B,d)}),o=!1};n.forEach(k=>{c("click",k,d)})}document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",l),t.style.cursor="grab",t.style.removeProperty("user-select"),t.style.scrollBehavior="smooth"};c("mousedown",t,s)}function L(){try{C(f.sizeGuideDrawer,{hasFullWidth:!0}),C(f.descriptionDrawer),C(f.customDrawer1),C(f.customDrawer2),C(f.customDrawer3),C(f.customDrawer4)}catch{}}function C(t,e={}){if(!document.querySelector(`[data-js-toggle="${t}"]`))return;const s=p({toggleSelector:t,...e});if(s.init(),t===f.sizeGuideDrawer){let r=document.getElementById(f.sizeGuideDrawer);if(!r)return;c("click",r,function(l){l.target==this&&s.close(r)})}}function j(){[...i.querySelectorAll(w.modelButton)].length&&i.addEventListener("click",e=>{const o=e.target.closest(w.modelButton);if(!o)return;const s=o.parentElement,r=s.querySelector(w.modelPoster),l=s.querySelector(w.modelContent);!r||!l||(r.remove(),o.remove(),l.classList.remove(v.hidden),h.disableSwipe())})}function T(){ee(i).init()}function q(){te(i).init()}return Object.freeze({init:b})},I={section:'[data-section-type="product"]',productAvailabilityToggleSelector:"[data-js-toggle-selector]",mediaContainer:".js-product-media-container",video:".js-video",slide:".js-product-gallery-slide",paused:".js-paused-video",placeholder:".js-product-gallery-video-placeholder"},F=[];let N,x,U,O,z;function ie(i){U=window.themeCore.utils.Toggle,O=window.themeCore.utils.Video,z={...window.themeCore.utils.cssClasses,pausedVideo:"is-paused-video"},N=[...document.querySelectorAll(I.section)].filter(p=>!i||p.closest(`#shopify-section-${i}`)),x=X(),N.forEach(se),x.init(),ae(),le(),window.themeCore.EventBus.emit("product:loaded")}function se(i){const p=oe(i);window.themeCore.EventBus.listen(`pickup-availability-drawer:productAvailability-pickup-availability__${i.dataset.sectionId}:loaded`,()=>{const u=[...document.querySelectorAll(I.productAvailabilityToggleSelector)].find(v=>v.dataset.jsToggle===`productAvailability-pickup-availability__${i.dataset.sectionId}`);U({toggleSelector:u.dataset.target}).init()}),window.setTimeout(()=>{ne(i)},0),p.init()}function $(i){if(!F.length){window.themeCore.EventBus.remove(i,$);return}R()}function ne(i){const p=i.querySelector(I.mediaContainer);p&&p.addEventListener("click",a=>{const u=a.target.closest(I.paused);if(!u||!u.classList.contains(z.pausedVideo))return;const c=u.querySelector(I.placeholder),v=u.querySelector(I.video);R(v),c&&(u.classList.remove(z.pausedVideo),c.classList.add(z.hidden),F.forEach(({player:w,videoWrapper:m,type:g})=>{m===v&&re(w,g)}))})}function re(i,p){const a=window.themeCore.utils.VIDEO_TYPES;switch(p){case a.html:{i.play();break}case a.vimeo:{i.play();break}case a.youtube:{i.mute(),i.playVideo();break}default:return}}function R(i){F.forEach(({player:p,videoWrapper:a})=>{if(a!==i){try{p.pauseVideo()}catch{}try{p.pause()}catch{}}})}function le(){window.themeCore.EventBus.listen("product-slider:slide-change",()=>$("product-slider:slide-change")),window.themeCore.EventBus.listen("product:zoom:open",()=>$("product:zoom:open"))}async function ae(){[...document.querySelectorAll(I.slide)].forEach(p=>{const[a]=O({videoContainer:p,options:{youtube:{controls:1,showinfo:1}}}).init();a&&F.push(a)})}const ce=()=>Object.freeze({init:ie}),Q=()=>{window.themeCore.Product=window.themeCore.Product||ce(),window.themeCore.utils.register(window.themeCore.Product,"product-template")};window.themeCore&&window.themeCore.loaded?Q():document.addEventListener("theme:all:loaded",Q,{once:!0});
